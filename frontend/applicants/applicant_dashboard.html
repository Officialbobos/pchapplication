<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Applicant Dashboard</title>
    <!-- Use Tailwind CSS for a modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        /* A custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e2e8f0;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">

    <div class="flex flex-col md:flex-row min-h-screen" id="dashboard-wrapper">
        <!-- Sidebar -->
        <nav id="sidebar-wrapper" class="bg-[#1a237e] text-white p-6 md:p-8 flex-shrink-0 w-full md:w-64 transition-all duration-300 ease-in-out transform -translate-x-full md:translate-x-0 fixed md:relative h-full z-50">
            <div class="flex justify-between items-center mb-6 md:mb-8">
                <h2 class="text-2xl font-bold">Dashboard</h2>
                <!-- Mobile close button -->
                <button id="sidebar-close" class="md:hidden text-white focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <ul class="space-y-2">
                <li><a href="#" id="dashboardLink" class="block py-3 px-4 rounded-lg font-semibold text-white/70 transition duration-200 hover:bg-white/10 active-link">My Dashboard</a></li>
                <li><a href="#" id="profileLink" class="block py-3 px-4 rounded-lg font-semibold text-white/70 transition duration-200 hover:bg-white/10">My Profile</a></li>
                <li><a href="#" id="messagesLink" class="block py-3 px-4 rounded-lg font-semibold text-white/70 transition duration-200 hover:bg-white/10">Messages</a></li>
                <li><a href="#" id="helpCenterLink" class="block py-3 px-4 rounded-lg font-semibold text-white/70 transition duration-200 hover:bg-white/10">Help Center</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <div class="flex-grow p-4 md:p-8 overflow-y-auto">
            <header class="flex justify-between items-center pb-4 mb-6 border-b border-gray-200">
                <h1 class="text-2xl md:text-3xl font-bold text-blue-600">Applicant Dashboard</h1>
                <!-- Mobile menu button -->
                <button id="sidebar-open" class="md:hidden text-gray-800 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
                <a href="#" class="bg-red-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-red-600 transition duration-200">Logout</a>
            </header>

            <!-- Welcome Modal -->
            <div id="welcomeModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-[100]">
                <div class="bg-white p-8 rounded-2xl shadow-xl max-w-lg text-center mx-4">
                    <h2 class="text-3xl font-bold text-blue-600 mb-3">Welcome, <span class="applicant-name">Applicant</span>!</h2>
                    <p class="text-lg text-gray-700 mb-6">Congratulations! We are thrilled to tell you that your grant application has been approved by the Department of Human Health and Services!</p>
                    <button id="proceedButton" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-blue-700 transition duration-200">Proceed to Dashboard</button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <section id="dashboardSection" class="space-y-6 hidden">
                <!-- Assigned Agent Card -->
                <div id="agent-card" class="bg-white p-6 rounded-2xl shadow-md border border-blue-500">
                    <div class="flex flex-col md:flex-row items-center text-center md:text-left">
                        <img id="agent-image" src="" alt="Agent Profile Image" class="w-32 h-32 rounded-full object-cover mb-4 md:mb-0 md:mr-6">
                        <div>
                            <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-2">Your Assigned Agent</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="text-left">
                                    <span class="block text-gray-500 font-semibold text-sm">Agent Name:</span>
                                    <span id="agent-name" class="block text-gray-800 text-base">N/A</span>
                                </div>
                                <div class="text-left">
                                    <span class="block text-gray-500 font-semibold text-sm">Email:</span>
                                    <span id="agent-email" class="block text-gray-800 text-base">N/A</span>
                                </div>
                                <div class="text-left">
                                    <span class="block text-gray-500 font-semibold text-sm">Phone:</span>
                                    <span id="agent-phone" class="block text-gray-800 text-base">N/A</span>
                                </div>
                                <div class="text-left">
                                    <span class="block text-gray-500 font-semibold text-sm">Facebook:</span>
                                    <span id="agent-facebook" class="block text-gray-800 text-base">N/A</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Application Status Card -->
                <div class="bg-white p-6 rounded-2xl shadow-md">
                    <div class="text-center">
                        <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-4">Application Status</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-left">
                            <div>
                                <span class="block text-gray-500 font-semibold text-sm">Application ID:</span>
                                <span id="application-id" class="block text-gray-800 text-lg">N/A</span>
                            </div>
                            <div>
                                <span class="block text-gray-500 font-semibold text-sm">Current Status:</span>
                                <span id="application-status" class="block text-lg font-bold">N/A</span>
                            </div>
                            <div class="col-span-1 md:col-span-2">
                                <span class="block text-gray-500 font-semibold text-sm">Status Notes:</span>
                                <span id="status-notes" class="block text-gray-800 text-lg">N/A</span>
                            </div>
                            <div class="col-span-1 md:col-span-2">
                                <span class="block text-gray-500 font-semibold text-sm mb-2">Application Progress:</span>
                                <div class="bg-gray-200 rounded-full h-4 relative">
                                    <div id="progress-bar" class="bg-blue-500 h-full rounded-full transition-all duration-500" style="width: 0%;"></div>
                                </div>
                                <div id="progress-text" class="text-right text-gray-600 mt-2 text-sm">0%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Approved Grant Amount Card -->
                <div id="grant-amount-card" class="bg-white p-6 rounded-2xl shadow-md border border-blue-500 text-center">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Approved Grant Amount:</h3>
                    <p id="grant-amount" class="text-5xl font-extrabold text-blue-600 mb-4"></p>
                    <p class="text-lg text-gray-700 mb-6">Great News! Your grant application has been approved.</p>
                    <a href="#" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-xl shadow-lg hover:bg-blue-700 transition duration-200">Proceed</a>
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profileSection" class="space-y-6 hidden">
                <div class="bg-white p-6 rounded-2xl shadow-md">
                    <div class="flex flex-col items-center text-center">
                        <img id="profile-image" src="" alt="Profile Image" class="w-40 h-40 rounded-full object-cover mb-4">
                        <h2 id="full-name" class="text-2xl font-bold text-gray-800 mb-4"></h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-xl text-left">
                            <div>
                                <span class="block text-gray-500 font-semibold text-sm">Email:</span>
                                <span id="user-email" class="block text-gray-800 text-lg">N/A</span>
                            </div>
                            <div>
                                <span class="block text-gray-500 font-semibold text-sm">Phone Number:</span>
                                <span id="user-phone" class="block text-gray-800 text-lg">N/A</span>
                            </div>
                            <div class="col-span-1 md:col-span-2">
                                <span class="block text-gray-500 font-semibold text-sm">Home Address:</span>
                                <span id="user-address" class="block text-gray-800 text-lg">N/A</span>
                            </div>
                            <div>
                                <span class="block text-gray-500 font-semibold text-sm">Occupation:</span>
                                <span id="user-occupation" class="block text-gray-800 text-lg">N/A</span>
                            </div>
                            <div>
                                <span class="block text-gray-500 font-semibold text-sm">Date of Birth:</span>
                                <span id="user-dob" class="block text-gray-800 text-lg">N/A</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Messages Section -->
            <section id="messagesSection" class="space-y-6 hidden">
                <div class="bg-white p-6 rounded-2xl shadow-md text-center">
                    <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-4">Messages</h3>
                    <p class="text-gray-500">No recent messages.</p>
                </div>
            </section>

            <!-- Help Center Section -->
            <section id="helpCenterSection" class="space-y-6 hidden">
                <div class="bg-white p-6 rounded-2xl shadow-md">
                    <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-4">Help Center</h3>
                    <p class="text-gray-500 mb-6">Please fill out the form below to submit an inquiry or complaint. Our support team will get back to you as soon as possible.</p>
                    <form class="space-y-4">
                        <div>
                            <label for="name" class="block text-sm font-semibold text-gray-700">Your Name</label>
                            <input type="text" id="name" name="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-semibold text-gray-700">Email Address</label>
                            <input type="email" id="email" name="email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                        </div>
                        <div>
                            <label for="type" class="block text-sm font-semibold text-gray-700">Inquiry Type</label>
                            <select id="type" name="type" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                                <option value="inquiry">General Inquiry</option>
                                <option value="complain">Complaint</option>
                                <option value="technical">Technical Support</option>
                            </select>
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-semibold text-gray-700">Your Message</label>
                            <textarea id="message" name="message" rows="5" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required></textarea>
                        </div>
                        <button type="submit" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-xl shadow-lg hover:bg-blue-700 transition duration-200">Submit</button>
                    </form>
                </div>
            </section>

        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mock user data to simulate backend response
            const userData = {
                fullName: "Jane Doe",
                email: "jane.doe@example.com",
                phone: "(555) 123-4567",
                address: "123 Main Street, Anytown, USA",
                business: "Marketing Specialist",
                dateOfBirth: "1988-05-20",
                applicationId: "APP-987654",
                applicationStatus: "Approved", // Can be 'Approved', 'Pending', or 'Declined'
                statusNotes: "Your application has been reviewed and approved. Awaiting further documentation.",
                progressValue: 100,
                progressColor: '#22c55e', // Tailwind's green-500
                grantAmount: "$50,000",
                agentName: "John Smith",
                agentEmail: "john.smith@example.com",
                agentPhone: "(555) 987-6543",
                agentFacebook: "https://www.facebook.com/johnsmith",
            };

            // Set up DOM element references
            const proceedButton = document.getElementById('proceedButton');
            const welcomeModal = document.getElementById('welcomeModal');
            const sections = {
                dashboard: document.getElementById('dashboardSection'),
                profile: document.getElementById('profileSection'),
                messages: document.getElementById('messagesSection'),
                helpCenter: document.getElementById('helpCenterSection')
            };
            const sidebarLinks = document.querySelectorAll('#sidebar-wrapper a');
            const sidebarWrapper = document.getElementById('sidebar-wrapper');
            const sidebarOpen = document.getElementById('sidebar-open');
            const sidebarClose = document.getElementById('sidebar-close');

            // Function to populate data from the mock object
            function populateData(user) {
                // Populate applicant name in modal
                document.querySelector('.applicant-name').textContent = user.fullName;
                // Populate dashboard
                const statusElement = document.getElementById('application-status');
                statusElement.textContent = user.applicationStatus;
                if (user.applicationStatus === 'Approved') {
                    statusElement.classList.add('text-green-500');
                    document.getElementById('grant-amount-card').style.display = 'block';
                    document.getElementById('progress-bar').style.backgroundColor = '#22c55e'; // green
                } else if (user.applicationStatus === 'Pending') {
                    statusElement.classList.add('text-yellow-500');
                    document.getElementById('grant-amount-card').style.display = 'none';
                    document.getElementById('progress-bar').style.backgroundColor = '#f59e0b'; // yellow
                } else if (user.applicationStatus === 'Declined') {
                    statusElement.classList.add('text-red-500');
                    document.getElementById('grant-amount-card').style.display = 'none';
                    document.getElementById('progress-bar').style.backgroundColor = '#ef4444'; // red
                }

                document.getElementById('application-id').textContent = user.applicationId;
                document.getElementById('status-notes').textContent = user.statusNotes;
                
                const progressBar = document.getElementById('progress-bar');
                progressBar.style.width = user.progressValue + '%';
                document.getElementById('progress-text').textContent = user.progressValue + '%';
                document.getElementById('grant-amount').textContent = user.grantAmount;

                // Populate agent details
                if (user.agentName) {
                    document.getElementById('agent-card').style.display = 'block';
                    document.getElementById('agent-name').textContent = user.agentName;
                    document.getElementById('agent-email').textContent = user.agentEmail;
                    document.getElementById('agent-phone').textContent = user.agentPhone;
                    const facebookElement = document.getElementById('agent-facebook');
                    if (user.agentFacebook) {
                        facebookElement.innerHTML = `<a href="${user.agentFacebook}" target="_blank" class="text-blue-500 hover:underline">Agent Facebook Page</a>`;
                    } else {
                        facebookElement.textContent = 'N/A';
                    }
                    // Placeholder images for agent and user
                    document.getElementById('agent-image').src = `https://placehold.co/120x120/E5E7EB/4B5563?text=Agent`;
                } else {
                    document.getElementById('agent-card').style.display = 'none';
                }

                // Populate profile section
                document.getElementById('full-name').textContent = user.fullName;
                document.getElementById('user-email').textContent = user.email;
                document.getElementById('user-phone').textContent = user.phone;
                document.getElementById('user-address').textContent = user.address;
                document.getElementById('user-occupation').textContent = user.business;
                document.getElementById('user-dob').textContent = user.dateOfBirth;
                document.getElementById('profile-image').src = `https://placehold.co/160x160/E5E7EB/4B5563?text=User`;
            }
            
            // Initial call to populate data
            populateData(userData);

            // Event listener for the "Proceed" button on the welcome modal
            proceedButton.addEventListener('click', function() {
                welcomeModal.classList.add('hidden');
                sections.dashboard.classList.remove('hidden');
            });

            // Event listener for sidebar links
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault();
                    
                    // Remove active class from all links and add to the clicked one
                    sidebarLinks.forEach(item => item.classList.remove('active-link'));
                    link.classList.add('active-link');

                    // Hide all content sections
                    Object.values(sections).forEach(section => section.classList.add('hidden'));

                    // Show the content section based on the clicked link's ID
                    if (link.id === 'dashboardLink') {
                        sections.dashboard.classList.remove('hidden');
                    } else if (link.id === 'profileLink') {
                        sections.profile.classList.remove('hidden');
                    } else if (link.id === 'messagesLink') {
                        sections.messages.classList.remove('hidden');
                    } else if (link.id === 'helpCenterLink') {
                        sections.helpCenter.classList.remove('hidden');
                    }

                    // Hide the sidebar on mobile after a link is clicked
                    if (window.innerWidth < 768) {
                        sidebarWrapper.classList.add('-translate-x-full');
                    }
                });
            });

            // Mobile sidebar toggle functionality
            sidebarOpen.addEventListener('click', function() {
                sidebarWrapper.classList.remove('-translate-x-full');
            });

            sidebarClose.addEventListener('click', function() {
                sidebarWrapper.classList.add('-translate-x-full');
            });

            // Initial state: hide main content until modal is dismissed
            sections.dashboard.classList.add('hidden');
            sections.profile.classList.add('hidden');
            sections.messages.classList.add('hidden');
            sections.helpCenter.classList.add('hidden');
        });
    </script>
</body>
</html>